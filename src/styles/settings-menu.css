/* Anchor for absolute positioning */
.settings{
  position: relative;   /* << anchor */
}

/* Button (summary) bleibt wie gehabt */
.settings details > summary {
  border: none;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
}

/* Panel als Overlay: nimmt keinen Platz im Header ein */
.settings .panel{
  position: absolute;          /* << take out of flow */
  top: calc(100% + 8px);       /* unter dem Button */
  right: 0;                    /* an rechter Kante ausrichten */
  z-index: 1000;

  /* vorher: margin-top â€“ ENTFERNEN */
  background: linear-gradient(180deg, #0f1627, #0e1524);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-3);
  box-shadow: var(--shadow-2);
  min-width: 220px;
}

.settings details[open] > summary{
  outline: 2px solid rgba(126,178,255,.35);
}

.panel-title{ color: var(--muted); font-weight:700; margin-bottom: .5rem; }

.segmented{
  display:flex; gap:.5rem; background:#0c1220; padding:.35rem; border-radius: 12px; border:1px solid var(--border);
}
.segmented button{
  flex:1; border:none; padding:.5rem .75rem; border-radius:9px; color:var(--muted); font-weight:700;
  background: transparent;
}
.segmented button.active{
  color:#fff; background: linear-gradient(180deg, rgba(31,111,235,.20), rgba(31,111,235,.12));
  border:1px solid rgba(126,178,255,.35);
}